<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public · Memento.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/invenia.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Memento.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../../man/intro/">Introduction</a></li><li><a class="toctext" href="../../man/loggers/">Loggers</a></li><li><a class="toctext" href="../../man/handlers/">Handlers</a></li><li><a class="toctext" href="../../man/formatters/">Formatters</a></li><li><a class="toctext" href="../../man/records/">Records</a></li><li><a class="toctext" href="../../man/io/">IO</a></li><li><a class="toctext" href="../../man/conclusion/">Conclusion</a></li></ul></li><li><span class="toctext">FAQ</span><ul><li><a class="toctext" href="../../faq/another-logging-lib/">Another logging library?</a></li><li><a class="toctext" href="../../faq/change-colors/">Changing colors?</a></li><li><a class="toctext" href="../../faq/config-recipes/">Configuring Logging in Applications?(@id config_recipes)</a></li><li><a class="toctext" href="../../faq/logging-to-syslog/">Logging to Syslog?</a></li><li><a class="toctext" href="../../faq/json-formatting/">Producing JSON logs?</a></li><li><a class="toctext" href="../../faq/pkg-usage/">Using Memento in Julia packages?(@id pkg_usage)</a></li><li><a class="toctext" href="../../faq/testing/">How do I test my logging behaviour?</a></li></ul></li><li><span class="toctext">API</span><ul><li class="current"><a class="toctext" href>Public</a><ul class="internal"><li><a class="toctext" href="#Configuration-1">Configuration</a></li><li><a class="toctext" href="#Loggers-1">Loggers</a></li><li><a class="toctext" href="#Handlers-1">Handlers</a></li><li><a class="toctext" href="#Formatters-1">Formatters</a></li><li><a class="toctext" href="#Records-1">Records</a></li><li><a class="toctext" href="#IO-1">IO</a></li><li><a class="toctext" href="#Memento.TestUtils-1">Memento.TestUtils</a></li></ul></li><li><a class="toctext" href="../private/">Private</a></li></ul></li><li><a class="toctext" href="../../contributing/">Contributing</a></li></ul></nav><article id="docs"><header><nav><ul><li>API</li><li><a href>Public</a></li></ul><a class="edit-page" href="https://github.com/invenia/Memento.jl/blob/master/docs/src/api/public.md#L"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Public</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Public-1" href="#Public-1">Public</a></h1><h2><a class="nav-anchor" id="Configuration-1" href="#Configuration-1">Configuration</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.config!" href="#Memento.config!"><code>Memento.config!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">config!([logger], level; fmt::AbstractString, levels::Dict{AbstractString, Int}, colorized::Bool) -&gt; Logger</code></pre><p>Sets the <code>Memento._log_levels</code>, creates a default root logger with a <code>DefaultHandler</code> that prints to stdout.</p><p><strong>Arguments</strong></p><ul><li>&#39;logger::Union{Logger, AbstractString}`: The logger to configure (optional)</li><li><code>level::AbstractString</code>: the minimum logging level to log message to the root logger (required).</li></ul><p><strong>Keywords</strong></p><ul><li><code>fmt::AbstractString</code>: a format string to pass to the <code>DefaultFormatter</code> which describes   how to log messages (defaults to <code>Memento.DEFAULT_FMT_STRING</code>)</li><li><code>levels</code>: the default logging levels to use (defaults to <code>Memento._log_levels</code>).</li><li><code>colorized</code>: whether or not the message to stdout should be colorized.</li><li><code>recursive</code>: whether or not to recursive set the level of all child loggers.</li><li><code>substitute</code>: whether or not to substitute the global logger with Memento (only supported on julia 0.7).</li><li><code>propagate</code>: whether the logger should also send messages to parent loggers (default: true)</li></ul><p><strong>Returns</strong></p><ul><li><code>Logger</code>: the logger passed in, or the root logger.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/config.jl#LL2-L24">source</a></section><h2><a class="nav-anchor" id="Loggers-1" href="#Loggers-1">Loggers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Logger" href="#Memento.Logger"><code>Memento.Logger</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Logger</code></pre><p>A <code>Logger</code> is responsible for converting msg strings into <code>Records</code> which are then passed to each handler. By default loggers propagate their message to their parent loggers.</p><p><strong>Fields</strong></p><ul><li><code>name::AbstractString</code>: is the name of the logger (required).</li><li><code>handlers::Dict{Any, Handler}</code>: is a collection of <code>Handler</code>s (defaults to empty <code>Dict</code>).</li><li><code>level::AbstractString</code>: the current minimum logging level for the logger to  log message to handlers (defaults to &quot;not_set&quot;).</li><li><code>levels::Dict{AbstractString, Int}</code>: a mapping of available logging levels to their   relative priority (represented as integer values) (defaults to using <code>Memento._log_levels</code>)</li><li><code>record::Type</code>: the <code>Record</code> type that should be produced by this logger   (defaults to <code>DefaultRecord</code>).</li><li><code>propagate::Bool</code>: whether or not this logger should propagate its message to its parent   (defaults to <code>true</code>).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL1-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.error" href="#Base.error"><code>Base.error</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">error(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the error level and throws an <code>ErrorException</code> with that message</p><pre><code class="language-none">error(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the error level and throws an <code>ErrorException</code> with that message.</p><pre><code class="language-none">error(logger::Logger, exc::Exception)</code></pre><p>Calls <code>error(logger, msg)</code> with the contents of the <code>Exception</code>, then throw the <code>Exception</code>. If the exception is a <code>CompositeException</code>, each contained exception is logged, then the <code>CompositeException</code> is thrown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL509-L522">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.addlevel!-Tuple{Logger,AbstractString,Int64}" href="#Memento.addlevel!-Tuple{Logger,AbstractString,Int64}"><code>Memento.addlevel!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">addlevel!(logger::Logger, level::AbstractString, val::Int)</code></pre><p>Adds a new <code>level::String</code> and <code>priority::Int</code> to the <code>logger.levels</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL285-L289">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.alert" href="#Memento.alert"><code>Memento.alert</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">alert(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the alert level and throws an <code>ErrorException</code> with that message</p><pre><code class="language-none">alert(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the alert level and throws an <code>ErrorException</code> with that message.</p><pre><code class="language-none">alert(logger::Logger, exc::Exception)</code></pre><p>Calls <code>alert(logger, msg)</code> with the contents of the <code>Exception</code>, then throw the <code>Exception</code>. If the exception is a <code>CompositeException</code>, each contained exception is logged, then the <code>CompositeException</code> is thrown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL511-L524">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.critical" href="#Memento.critical"><code>Memento.critical</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">critical(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the critical level and throws an <code>ErrorException</code> with that message</p><pre><code class="language-none">critical(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the critical level and throws an <code>ErrorException</code> with that message.</p><pre><code class="language-none">critical(logger::Logger, exc::Exception)</code></pre><p>Calls <code>critical(logger, msg)</code> with the contents of the <code>Exception</code>, then throw the <code>Exception</code>. If the exception is a <code>CompositeException</code>, each contained exception is logged, then the <code>CompositeException</code> is thrown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL510-L523">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.debug" href="#Memento.debug"><code>Memento.debug</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">debug(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the debug level.</p><pre><code class="language-none">debug(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the debug level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL489-L497">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.emergency" href="#Memento.emergency"><code>Memento.emergency</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">emergency(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the emergency level and throws an <code>ErrorException</code> with that message</p><pre><code class="language-none">emergency(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the emergency level and throws an <code>ErrorException</code> with that message.</p><pre><code class="language-none">emergency(logger::Logger, exc::Exception)</code></pre><p>Calls <code>emergency(logger, msg)</code> with the contents of the <code>Exception</code>, then throw the <code>Exception</code>. If the exception is a <code>CompositeException</code>, each contained exception is logged, then the <code>CompositeException</code> is thrown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL512-L525">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getfilters-Tuple{Logger}" href="#Memento.getfilters-Tuple{Logger}"><code>Memento.getfilters</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getfilters(logger::Logger) -&gt; Array{Filter}</code></pre><p>Returns the filters for the logger.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL255-L259">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.gethandlers-Tuple{Logger}" href="#Memento.gethandlers-Tuple{Logger}"><code>Memento.gethandlers</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">gethandlers(logger::Logger)</code></pre><p>Returns logger.handlers</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL269-L273">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlevel-Tuple{Logger}" href="#Memento.getlevel-Tuple{Logger}"><code>Memento.getlevel</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlevel(::Logger) -&gt; AbstractString</code></pre><p>Returns the current logger level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL119-L123">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlogger" href="#Memento.getlogger"><code>Memento.getlogger</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getlogger(name=&quot;root&quot;) -&gt; Logger</code></pre><p>If the logger or its parents do not exist then they are initialized with no handlers and not set.</p><p><strong>Arguments</strong></p><ul><li><code>name</code>: the name of the logger (defaults to &quot;root&quot;)</li></ul><p><strong>Returns</strong></p><ul><li><code>Logger</code>: the logger.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL218-L229">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlogger-Tuple{Module}" href="#Memento.getlogger-Tuple{Module}"><code>Memento.getlogger</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlogger(name::Module) -&gt; Logger</code></pre><p>Converts the <code>Module</code> to a <code>String</code> and calls <code>get_logger(name::String)</code>.</p><p><strong>Arguments</strong></p><ul><li><code>name::Module</code>: the Module a logger should be associated</li></ul><p><strong>Returns</strong></p><ul><li><code>Logger</code>: the logger associated with the provided Module.</li></ul><p>Returns the logger.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL203-L215">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.info" href="#Memento.info"><code>Memento.info</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">info(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the info level.</p><pre><code class="language-none">info(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the info level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL490-L498">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.ispropagating-Tuple{Logger}" href="#Memento.ispropagating-Tuple{Logger}"><code>Memento.ispropagating</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">ispropagating(::Logger)</code></pre><p>Returns true or false as to whether the logger is propagating.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL94-L98">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.isroot-Tuple{Logger}" href="#Memento.isroot-Tuple{Logger}"><code>Memento.isroot</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">isroot(::Logger)</code></pre><p>Returns true if <code>logger.name</code>is &quot;root&quot; or &quot;&quot;</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL80-L84">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.isset-Tuple{Logger}" href="#Memento.isset-Tuple{Logger}"><code>Memento.isset</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">isset(::Logger)</code></pre><p>Returns true or false as to whether the logger is set. (ie: logger.level != &quot;not_set&quot;)</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL87-L91">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.notice" href="#Memento.notice"><code>Memento.notice</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">notice(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the notice level.</p><pre><code class="language-none">notice(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the notice level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL491-L499">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setlevel!-Tuple{Function,Logger,AbstractString}" href="#Memento.setlevel!-Tuple{Function,Logger,AbstractString}"><code>Memento.setlevel!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">setlevel!(f::Function, logger::Logger, level::AbstractString; recursive=false)</code></pre><p>Temporarily change the level a logger will log at for the duration of the function <code>f</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL309-L313">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setlevel!-Tuple{Logger,AbstractString}" href="#Memento.setlevel!-Tuple{Logger,AbstractString}"><code>Memento.setlevel!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">setlevel!(logger::Logger, level::AbstractString; recursive=false)</code></pre><p>Changes what level this logger should log at.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL292-L296">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setpropagating!" href="#Memento.setpropagating!"><code>Memento.setpropagating!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setpropagating!([::Function], ::Logger, [::Bool])</code></pre><p>Sets the logger to be propagating or not (Defaults to true).</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL101-L105">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setrecord!-Union{Tuple{R}, Tuple{Logger,Type{R}}} where R&lt;:Record" href="#Memento.setrecord!-Union{Tuple{R}, Tuple{Logger,Type{R}}} where R&lt;:Record"><code>Memento.setrecord!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">setrecord!(logger::Logger, rec::Type{R}) where {R&lt;:Record}</code></pre><p>Sets the record type for the logger.</p><p><strong>Arguments</strong></p><ul><li><code>logger::Logger</code>: the logger to set.</li><li><code>rec::Record</code>: A <code>Record</code> type to use for logging messages (ie: <code>DefaultRecord</code>).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL240-L248">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.trace" href="#Memento.trace"><code>Memento.trace</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">trace(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the trace level.</p><pre><code class="language-none">trace(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the trace level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL488-L496">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.warn" href="#Memento.warn"><code>Memento.warn</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">warn(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the warn level.</p><pre><code class="language-none">warn(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the warn level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL492-L500">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.warn-Tuple{Logger,Exception}" href="#Memento.warn-Tuple{Logger,Exception}"><code>Memento.warn</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">warn(logger::Logger, exc::Exception)
warn(logger::Logger, msg, exc::Exception)</code></pre><p>Takes an exception and logs it. If the exception is a <code>CompositeException</code>, each contained exception is logged.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/loggers.jl#LL514-L520">source</a></section><h2><a class="nav-anchor" id="Handlers-1" href="#Handlers-1">Handlers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultHandler" href="#Memento.DefaultHandler"><code>Memento.DefaultHandler</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">DefaultHanlder</code></pre><p>The DefaultHandler manages any <code>Formatter</code>, <code>IO</code> and <code>Record</code>.</p><p>Fields:</p><ul><li>fmt: a <code>Formatter</code> for converting <code>Record</code>s to <code>Strings</code></li><li>io: an <code>IO</code> type for printing <code>String</code> to.</li><li>opts: a dictionary of optional arguments such as :is<em>colorized and :colors   Ex) ```Dict{Symbol, Any}(           :is</em>colorized =&gt; true,           :opts[:colors] =&gt; Dict{AbstractString, Symbol}(               &quot;debug&quot; =&gt; :blue,               &quot;info&quot; =&gt; :green,               ...           )       )```</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/handlers.jl#LL59-L76">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultHandler-Union{Tuple{AbstractString}, Tuple{F}, Tuple{AbstractString,F}, Tuple{AbstractString,F,Any}} where F&lt;:Formatter" href="#Memento.DefaultHandler-Union{Tuple{AbstractString}, Tuple{F}, Tuple{AbstractString,F}, Tuple{AbstractString,F,Any}} where F&lt;:Formatter"><code>Memento.DefaultHandler</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">DefaultHandler(
    filename::AbstractString,
    fmt::F=DefaultFormatter(),
    opts=Dict{Symbol, Any}();
    levels=nothing,
) where {F&lt;:Formatter}</code></pre><p>Creates a DefaultHandler with a IO handle to the specified filename.</p><p><strong>Arguments</strong></p><ul><li><code>filename::AbstractString</code>: the filename of a log file to write to</li><li><code>fmt::Formatter</code>: the Formatter to use (default to <code>DefaultFormatter()</code>)</li><li><code>opts::Dict</code>: the optional arguments (defaults to <code>Dict{Symbol, Any}()</code>)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/handlers.jl#LL114-L128">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultHandler-Union{Tuple{O}, Tuple{O}, Tuple{F}, Tuple{O,F}, Tuple{O,F,Any}} where O&lt;:IO where F&lt;:Formatter" href="#Memento.DefaultHandler-Union{Tuple{O}, Tuple{O}, Tuple{F}, Tuple{O,F}, Tuple{O,F,Any}} where O&lt;:IO where F&lt;:Formatter"><code>Memento.DefaultHandler</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">DefaultHandler(
    io::O,
    fmt::F=DefaultFormatter(),
    opts=Dict{Symbol, Any}();
    levels=nothing,
) where {F&lt;:Formatter, O&lt;:IO}</code></pre><p>Creates a DefaultHandler with the specified IO type.</p><p><strong>Arguments</strong></p><ul><li><code>io::IO</code>: the IO type</li><li><code>fmt::Formatter</code>: the Formatter to use (default to <code>DefaultFormatter()</code>)</li><li><code>opts::Dict</code>: the optional arguments (defaults to <code>Dict{Symbol, Any}()</code>)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/handlers.jl#LL86-L100">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Handler" href="#Memento.Handler"><code>Memento.Handler</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Handler</code></pre><p>Manage formatting <code>Record</code>s and logging the resulting <code>String</code>. All <code>Handler</code> subtypes must implement at least 1 <code>log(::Handler, ::Record)</code> method.</p><p>NOTE: Handlers can be useful if you need to special case logging behaviour based on the <code>Formatter</code>, <code>IO</code> and/or <code>Record</code> types.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/handlers.jl#LL1-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.emit-Union{Tuple{O}, Tuple{F}, Tuple{DefaultHandler{F,O},Record}} where O&lt;:IO where F&lt;:Formatter" href="#Memento.emit-Union{Tuple{O}, Tuple{F}, Tuple{DefaultHandler{F,O},Record}} where O&lt;:IO where F&lt;:Formatter"><code>Memento.emit</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">emit{F, O}(handler::DefaultHandler{F ,O}, rec::Record) where {F&lt;:Formatter, O&lt;:IO}</code></pre><p>Handles printing any <code>Record</code> with any <code>Formatter</code> and <code>IO</code> types.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/handlers.jl#LL201-L205">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getfilters-Tuple{Handler}" href="#Memento.getfilters-Tuple{Handler}"><code>Memento.getfilters</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getfilters(handler::Handler) -&gt; Array{Memento.Filter}</code></pre><p>Returns the filters for the handler. The default is the standard level-based filter.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/handlers.jl#LL28-L33">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlevel-Tuple{Handler}" href="#Memento.getlevel-Tuple{Handler}"><code>Memento.getlevel</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlevel(::Handler) -&gt; AbstractString</code></pre><p>Returns the current handler level. The default is &quot;not_set&quot;.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/handlers.jl#LL12-L17">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setlevel!-Tuple{DefaultHandler,AbstractString}" href="#Memento.setlevel!-Tuple{DefaultHandler,AbstractString}"><code>Memento.setlevel!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">setlevel!(handler::DefaultHandler, level::AbstractString)</code></pre><p>Sets the minimum level required to <code>emit</code> the record from the handler.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/handlers.jl#LL187-L191">source</a></section><h2><a class="nav-anchor" id="Formatters-1" href="#Formatters-1">Formatters</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultFormatter" href="#Memento.DefaultFormatter"><code>Memento.DefaultFormatter</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">DefaultFormatter</code></pre><p>The <code>DefaultFormatter</code> uses a simple format string to build the log message. Fields from the <code>Record</code> to be used should be wrapped curly brackets.</p><p>Ex) &quot;[{level} | {name}]: {msg}&quot; will print message of the form [info | root]: my info message. [warn | root]: my warning message. ...</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/formatters.jl#LL13-L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DictFormatter-Tuple{}" href="#Memento.DictFormatter-Tuple{}"><code>Memento.DictFormatter</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">DictFormatter([aliases, serializer])</code></pre><p>Formats the record to Dict that is amenable to serialization formats such as JSON and then runs the serializer function on the produced dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>aliases::Dict{Symbol, Symbol}</code>: Mapping where the keys represent aliases and values</li></ul><p>represent existing record attributes to include in the dictionary (defaults to all attributes).</p><ul><li><code>serializer::Function</code>: A function that takes a Dictionary and returns a string. Defaults</li></ul><p>to <code>string(dict)</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/formatters.jl#LL102-L114">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Formatter" href="#Memento.Formatter"><code>Memento.Formatter</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Formatter</code></pre><p>A <code>Formatter</code> must implement a <code>format(::Formatter, ::Record)</code> method which takes a <code>Record</code> and returns a <code>String</code> representation of the log <code>Record</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/formatters.jl#LL1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.format-Tuple{DefaultFormatter,Record}" href="#Memento.format-Tuple{DefaultFormatter,Record}"><code>Memento.format</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">format(::DefaultFormatter, ::Record) -&gt; String</code></pre><p>Iteratively replaces entries in the format string with the appropriate fields in the <code>Record</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/formatters.jl#LL48-L53">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.format-Tuple{DictFormatter,Record}" href="#Memento.format-Tuple{DictFormatter,Record}"><code>Memento.format</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">format(::DictFormatter, ::Record) -&gt; Dict</code></pre><p>Converts :date, :lookup and :stacktrace to strings and dicts respectively.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/formatters.jl#LL119-L123">source</a></section><h2><a class="nav-anchor" id="Records-1" href="#Records-1">Records</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.AttributeRecord" href="#Memento.AttributeRecord"><code>Memento.AttributeRecord</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">AttributeRecord &lt;: Record</code></pre><p>A <code>Record</code> which stores its properties as <code>Attribute</code>s for lazy evaluation.</p><p>Calling <code>getproperty</code> or iterating will evaluate and cache the properties accessed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/records.jl#LL72-L78">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultRecord" href="#Memento.DefaultRecord"><code>Memento.DefaultRecord</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">DefaultRecord &lt;: AttributeRecord</code></pre><p>Stores the most common logging event information. NOTE: if you&#39;d like more logging attributes you can:</p><ol><li>add them to DefaultRecord and open a pull request if the new attributes are applicable to most applications.</li><li>make a custom <code>Record</code> type.</li></ol><p><strong>Fields</strong></p><ul><li><code>date::Attribute{ZonedDateTime}</code>: timestamp of log event</li><li><code>level::Attribute{AbstractString}</code>: log level</li><li><code>levelnum::Attribute{Int}</code>: integer value for log level</li><li><code>msg::Attribute{AbstractString}</code>: the log message itself</li><li><code>name::Attribute{AbstractString}</code>: the name of the source logger</li><li><code>pid::Attribute{Int}</code>: the pid of where the log event occured</li><li><code>lookup::Attribute{StackFrame}</code>: the top StackFrame</li><li><code>stacktrace::Attribute{StackTrace}</code>: a stacktrace</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/records.jl#LL113-L131">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultRecord-Tuple{AbstractString,AbstractString,Int64,Any}" href="#Memento.DefaultRecord-Tuple{AbstractString,AbstractString,Int64,Any}"><code>Memento.DefaultRecord</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">DefaultRecord(name::AbstractString, level::AbstractString, levelnum::Int, msg)</code></pre><p>Takes a few initial log record arguments and creates a <code>DefaultRecord</code>.</p><p><strong>Arguments</strong></p><ul><li><code>name::AbstractString</code>: the name of the source logger.</li><li><code>level::AbstractString</code>: the log level.</li><li><code>levelnum</code>::Int: the log level number.</li><li><code>msg</code>: the message being logged.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/records.jl#LL143-L153">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Record" href="#Memento.Record"><code>Memento.Record</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Record</code></pre><p>A dictionary-like container with <code>Symbol</code> keys used to store information about a log events including the msg, date, level, stacktrace, etc. <code>Formatter</code>s use <code>Records</code> to format log message strings.</p><p>You can access the properties of a <code>Record</code> by using <code>getproperty</code> (ie: record.msg).</p><p>Subtypes of <code>Record</code> should implement <code>getproperty(::MyRecord, ::Symbol)</code> and key-value pair iteration.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/records.jl#LL51-L62">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlevel-Tuple{Record}" href="#Memento.getlevel-Tuple{Record}"><code>Memento.getlevel</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlevel(::Record) -&gt; AbstractString</code></pre><p>Returns the record level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/records.jl#LL65-L69">source</a></section><h2><a class="nav-anchor" id="IO-1" href="#IO-1">IO</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.FileRoller" href="#Memento.FileRoller"><code>Memento.FileRoller</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">FileRoller &lt;: IO</code></pre><p>Is responsible for managing a rolling log file.</p><p><strong>Fields</strong></p><ul><li><code>prefix::AbstractString</code>: filename prefix for the log.</li><li><code>folder::AbstractString</code>: directory where the log should be written.</li><li><code>filepath::AbstractString</code>: the full filepath for the log</li><li><code>file::IO</code>: the current file IO handle</li><li><code>byteswritten::Int64</code>: keeps track of how many bytes have been written to the current file.</li><li><code>max_sz::Int</code>: the maximum number of bytes written to a file before rolling over to another.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/io.jl#LL3-L15">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.FileRoller-Tuple{Any,Any}" href="#Memento.FileRoller-Tuple{Any,Any}"><code>Memento.FileRoller</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">FileRoller(prefix, dir; max_size=DEFAULT_MAX_FILE_SIZE)</code></pre><p>Creates a rolling log file in the specified directory with the given prefix.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/io.jl#LL62-L66">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.FileRoller-Tuple{Any}" href="#Memento.FileRoller-Tuple{Any}"><code>Memento.FileRoller</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">FileRoller(prefix; max_size=DEFAULT_MAX_FILE_SIZE)</code></pre><p>Creates a rolling log file in the current working directory with the specified prefix.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/io.jl#LL54-L59">source</a></section><h2><a class="nav-anchor" id="Memento.TestUtils-1" href="#Memento.TestUtils-1">Memento.TestUtils</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.TestUtils.@test_log" href="#Memento.TestUtils.@test_log"><code>Memento.TestUtils.@test_log</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@test_log(logger, level, msg, expr)</code></pre><p>Test that the expression <code>expr</code> emits a record in the <code>logger</code> with the specified <code>level</code> string and contains the <code>msg</code> string or matches the <code>msg</code> regular expression. If <code>msg</code> is a boolean function, tests whether <code>msg(output)</code> returns true. If <code>msg</code> is a tuple or array, checks that the output contains/matches each item in <code>msg</code>. Returns the result of evaluating <code>expr</code>.</p><p>This will temporarily add a test handler to the <code>logger</code> which will always be removed after executing the expression.</p><p>See also <a href="#Memento.TestUtils.@test_nolog"><code>@test_nolog</code></a> to check for the absence of a record.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using Memento, Memento.TestUtils

julia&gt; logger = getlogger(&quot;test_log&quot;);

julia&gt; m = &quot;Hello World!&quot;;

julia&gt; @test_log logger &quot;info&quot; &quot;Hello&quot; info(logger, m)

julia&gt; @test_log logger &quot;info&quot; r&quot;^Hello&quot; info(logger, m)

julia&gt; @test_log logger &quot;info&quot; (&quot;Hello&quot;, r&quot;World!$&quot;) info(logger, m)  # All elements occursin</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/memento_test.jl#LL21-L49">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.TestUtils.@test_nolog" href="#Memento.TestUtils.@test_nolog"><code>Memento.TestUtils.@test_nolog</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@test_nolog(logger, level, msg, expr)</code></pre><p>Test that the expression <code>expr</code> does not emit a record in the <code>logger</code> with the specified <code>level</code> string containing the <code>msg</code> string or matching the <code>msg</code> regular expression.</p><p>See also <a href="#Memento.TestUtils.@test_log"><code>@test_log</code></a> for further details.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/memento_test.jl#LL74-L81">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_warn" href="#Test.@test_warn"><code>Test.@test_warn</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@test_warn(logger, msg, expr)</code></pre><p>Convenience macro that calls <a href="#Memento.TestUtils.@test_log"><code>@test_log(logger, &quot;warn&quot;, msg, expr)</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/memento_test.jl#LL103-L107">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_throws" href="#Test.@test_throws"><code>Test.@test_throws</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@test_throws(logger, extype, expr)</code></pre><p>Disables the <code>logger</code> and calls <a href="https://docs.julialang.org/en/v1/stdlib/Test/#Test.@test_throws"><code>@test_throws extype expr</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/609a9fc890194c8f79c0d17dcf3f68c82467367c/src/memento_test.jl#LL114-L118">source</a></section><footer><hr/><a class="previous" href="../../faq/testing/"><span class="direction">Previous</span><span class="title">How do I test my logging behaviour?</span></a><a class="next" href="../private/"><span class="direction">Next</span><span class="title">Private</span></a></footer></article></body></html>
